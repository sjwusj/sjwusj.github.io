{"title":"ArchLinux+Win10双系统安装过程记录","uid":"43c1e5517339bfb05d371a4410a853ed","slug":"ArchLinux+Win10双系统安装过程记录","date":"2024-11-06T15:26:28.000Z","updated":"2025-01-04T13:27:26.473Z","comments":true,"path":"api/articles/ArchLinux+Win10双系统安装过程记录.json","keywords":null,"cover":"cover/cover3.jpg","content":"<h2 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h2><p><a href=\"https://arch.icekylin.online/guide/rookie/basic-install\">archlinux 基础安装</a></p>\n<p><a href=\"https://www.cnblogs.com/Thato/p/18311683\">ArchLinux Vmware安装指北</a></p>\n<p><a href=\"https://www.cnblogs.com/NexusXian/p/17570030.html\">Archlinux+Windows双系统安装教程(UEFI)2023.7</a></p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/355826301\">VirtualBox 安装 Arch Linux: 从新建虚拟机到图形界面</a></p>\n<p><a href=\"https://blog.csdn.net/earth1994/article/details/139706014\">VMware 安装 Archlinux 详细教程</a></p>\n<h2 id=\"参考视频\"><a href=\"#参考视频\" class=\"headerlink\" title=\"参考视频\"></a>参考视频</h2><p><a href=\"https://www.bilibili.com/video/BV1XY4y1f77S/?spm_id_from=333.337.search-card.all.click&vd_source=0bbd99419aa302dfd5e8f27118f9516d\">【超简单】Windows+Arch Linux双系统双磁盘方案，全程不废话</a></p>\n<p><a href=\"https://www.bilibili.com/video/BV1fk4y1w7wq/?spm_id_from=333.337.search-card.all.click&vd_source=0bbd99419aa302dfd5e8f27118f9516d\">Arch 启动！(Win+ArchLinux双系统安装教程uefi独立home+kde)</a></p>\n<h2 id=\"0、卸载Archlinux系统\"><a href=\"#0、卸载Archlinux系统\" class=\"headerlink\" title=\"0、卸载Archlinux系统\"></a>0、卸载Archlinux系统</h2><p>win 和 linux 不共用efi分区直接删除Linux相关的文件即可，使用 DiskGenius 直接删除linux的efi分区，格式化linux的磁盘，共用efi分区情况的百度</p>\n<h2 id=\"1、安装前准备\"><a href=\"#1、安装前准备\" class=\"headerlink\" title=\"1、安装前准备\"></a>1、安装前准备</h2><h3 id=\"1-1、下载ArchLinux镜像\"><a href=\"#1-1、下载ArchLinux镜像\" class=\"headerlink\" title=\"1.1、下载ArchLinux镜像\"></a>1.1、下载ArchLinux镜像</h3><ul>\n<li>ArchLinux Downloads: <a href=\"https://archlinux.org/download/#http-downloads\">https://archlinux.org/download/#http-downloads</a></li>\n</ul>\n<h3 id=\"1-2、下载启动盘制作工具\"><a href=\"#1-2、下载启动盘制作工具\" class=\"headerlink\" title=\"1.2、下载启动盘制作工具\"></a>1.2、下载启动盘制作工具</h3><ul>\n<li><p>Ventory: <a href=\"https://archlinux.org/download/#http-downloads\">https://archlinux.org/download/#http-downloads</a></p>\n</li>\n<li><p>Refus: <a href=\"https://rufus.ie/zh/#google_vignette\">https://rufus.ie/zh/#google_vignette</a></p>\n</li>\n</ul>\n<h3 id=\"1-3、下载虚拟机-选做\"><a href=\"#1-3、下载虚拟机-选做\" class=\"headerlink\" title=\"1.3、下载虚拟机(选做)\"></a>1.3、下载虚拟机(选做)</h3><ul>\n<li>VirtualBox: <a href=\"https://www.virtualbox.org/wiki/Downloads\">https://www.virtualbox.org/wiki/Downloads</a></li>\n</ul>\n<h3 id=\"1-4、制作启动盘\"><a href=\"#1-4、制作启动盘\" class=\"headerlink\" title=\"1.4、制作启动盘\"></a>1.4、制作启动盘</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>制作启动盘写入iso文件过程中会清空原u盘的文件，有重要文件请先备份</p></blockquote>\n<img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241224134758434.png\" alt=\"image-20241224134758434\" style=\"zoom:67%;\" />\n\n<h3 id=\"1-5、压缩分卷给新系统\"><a href=\"#1-5、压缩分卷给新系统\" class=\"headerlink\" title=\"1.5、压缩分卷给新系统\"></a>1.5、压缩分卷给新系统</h3><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241224135346947.png\" alt=\"image-20241224135346947\" style=\"zoom:67%;\" />\n\n<h3 id=\"1-6、关闭电脑的安全启动\"><a href=\"#1-6、关闭电脑的安全启动\" class=\"headerlink\" title=\"1.6、关闭电脑的安全启动\"></a>1.6、关闭电脑的安全启动</h3><p>不同电脑略有差异，自行百度查看</p>\n<h3 id=\"1-7、关机插入U盘启动进入bios\"><a href=\"#1-7、关机插入U盘启动进入bios\" class=\"headerlink\" title=\"1.7、关机插入U盘启动进入bios\"></a>1.7、关机插入U盘启动进入bios</h3><hr>\n<h2 id=\"体验-VirtualBox模拟安装ArchLinux\"><a href=\"#体验-VirtualBox模拟安装ArchLinux\" class=\"headerlink\" title=\"[体验]VirtualBox模拟安装ArchLinux\"></a>[体验]VirtualBox模拟安装ArchLinux</h2><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107110821199.png\" alt=\"image-20241107110821199\" style=\"zoom:67%;\" />\n\n<p>勾选启用EFI，否则启动为BIOS</p>\n<img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107110834408.png\" alt=\"image-20241107110834408\" style=\"zoom:67%;\" />\n\n<img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107111019199.png\" alt=\"image-20241107111019199\" style=\"zoom:67%;\" />\n\n<img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107111058116.png\" alt=\"image-20241107111058116\" style=\"zoom:67%;\" />\n\n<p>到这一步就新建好了。我们在启动前把显存拉满，保证体验；点击「设置」；进入「显示」，如图把显存拉到 128 MB；</p>\n<img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107111242627.png\" alt=\"image-20241107111242627\" style=\"zoom:67%;\" />\n\n<p>启动开始安装！！！</p>\n<hr>\n<h3 id=\"第一次启动-ArchLinux\"><a href=\"#第一次启动-ArchLinux\" class=\"headerlink\" title=\"第一次启动 ArchLinux\"></a>第一次启动 ArchLinux</h3><p>这是安装完成之后的操作，不是新建完成后的操作！！！</p>\n<p>再次启动前，进入虚拟机的「设置」&#x3D;&gt;「存储」，如图移除用以安装的虚拟盘，点击「OK」应用设置。</p>\n<img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241108084832905.png\" alt=\"image-20241108084832905\" style=\"zoom:67%;\" />\n\n<hr>\n<h2 id=\"2、开始安装ArchLinux\"><a href=\"#2、开始安装ArchLinux\" class=\"headerlink\" title=\"2、开始安装ArchLinux\"></a>2、开始安装ArchLinux</h2><h3 id=\"2-0-进入安装界面\"><a href=\"#2-0-进入安装界面\" class=\"headerlink\" title=\"2.0 进入安装界面\"></a>2.0 进入安装界面</h3><p>选择第一项回车</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107103256936.png\" alt=\"image-20241107103256936\"></p>\n<img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107103318210.png\" alt=\"image-20241107103318210\" style=\"zoom: 80%;\" />\n\n<h3 id=\"2-1-禁用reflector服务\"><a href=\"#2-1-禁用reflector服务\" class=\"headerlink\" title=\"2.1 禁用reflector服务\"></a>2.1 禁用reflector服务</h3><p>2020年，archlinux 安装镜像中加入了 <code>reflector</code> 服务，它会自己更新 <code>mirrorlist</code>（软件包管理器 <code>pacman</code> 的软件源）。在特定情况下，它会误删某些有用的源信息。这里进入安装环境后的第一件事就是将其禁用。也许它是一个好用的工具，但是很明显，因为地理上造成的特殊网络环境，这项服务并不适合启用。</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">systemctl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">stop</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">reflector</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#禁用服务</span></span></code></pre></div><h3 id=\"2-2-验证启动模式\"><a href=\"#2-2-验证启动模式\" class=\"headerlink\" title=\"2.2 验证启动模式\"></a>2.2 验证启动模式</h3><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">ls</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/sys/firmware/efi/efivars</span></span></code></pre></div><p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107103440921.png\" alt=\"image-20241107103440921\"></p>\n<p>如果能够输出一堆文件名，说明这里处在UEFI引导模式下，可以进行下一步操作</p>\n<p>如果发生报错，提示文件不存在或者文件为空，说明你没有使用UEFI引导启动，如何修改.vmx文件，使Arch在UEFI模式下被引导启动。</p>\n<h3 id=\"2-3-连接网络\"><a href=\"#2-3-连接网络\" class=\"headerlink\" title=\"2.3 连接网络\"></a>2.3 连接网络</h3><h4 id=\"2-3-1-使用无线连接\"><a href=\"#2-3-1-使用无线连接\" class=\"headerlink\" title=\"2.3.1 使用无线连接\"></a>2.3.1 使用无线连接</h4><p>使用 <code>iwctl</code> 进行连接：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">iwctl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 进入交互式命令行</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">device</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">list</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 列出无线网卡设备名，比如无线网卡看到叫 wlan0</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">station</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">wlan0</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">scan</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 扫描网络</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">station</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">wlan0</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">get-networks</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 列出所有 wifi 网络</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">station</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">wlan0</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">connect</span><span style=\"color: #BABED8\"> [wifi-name] </span><span style=\"color: #676E95; font-style: italic\"># 进行连接，注意这里无法输入中文。回车后输入密码即可</span></span>\n<span class=\"line\"><span style=\"color: #82AAFF\">exit</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 连接成功后退出</span></span></code></pre></div><h4 id=\"2-3-2-使用有线连接\"><a href=\"#2-3-2-使用有线连接\" class=\"headerlink\" title=\"2.3.2 使用有线连接\"></a>2.3.2 使用有线连接</h4><p>正常来说，只要插上一个已经联网的路由器分出的网线（DHCP），直接就能联网。</p>\n<p>可以等待几秒等网络建立连接后再进行下一步测试网络的操作。</p>\n<p>若笔记本没有网线接口请使用带网线接口的扩展坞。</p>\n<h3 id=\"2-4-测试网络\"><a href=\"#2-4-测试网络\" class=\"headerlink\" title=\"2.4 测试网络\"></a>2.4 测试网络</h3><p>我们先确认网络连接。执行</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">ip</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">link</span><span style=\"color: #BABED8\"> </span></span></code></pre></div><p>ping一下看看网络是否可用</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">ping</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">www.baidu.com</span></span></code></pre></div><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107103610595.png\" alt=\"image-20241107103610595\"  />\n\n<p>能ping通百度即可</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">curl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">www.baidu.com</span></span></code></pre></div><p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107103712090.png\" alt=\"image-20241107103712090\"></p>\n<p>如果能够输出东西，有一堆HTML标签等等；而不是网络不可达、连接超时、不能连接到服务器、找不到主机等等报错，说明网络无异常</p>\n<h3 id=\"2-5-通过ssh连接到arch上-选做\"><a href=\"#2-5-通过ssh连接到arch上-选做\" class=\"headerlink\" title=\"2.5 通过ssh连接到arch上[选做]\"></a>2.5 通过ssh连接到arch上[选做]</h3><p>虚拟机可以，实体机安装的得手搓代码</p>\n<p>为了后续操作的方便行（方便粘贴复制代码），这里设置ssh远程连接到虚拟机上。</p>\n<p>先执行<code>passwd</code>命令，修改root密码。然后执行<code>ip addr</code>查看当前虚拟机的ip地址。（一般情况下，按照虚拟机的创建过程，应该会自动分配一个NAT类型的网卡）。</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">ssh</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">root@xxx.xxx.xxx.xxx</span></span></code></pre></div><h3 id=\"2-6-更改软件仓库下载源\"><a href=\"#2-6-更改软件仓库下载源\" class=\"headerlink\" title=\"2.6 更改软件仓库下载源\"></a>2.6 更改软件仓库下载源</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>ps:请不在这一步中添加 <code>archlinuxcn</code> 源！如果你在 <code>/etc/pacman.conf</code> 中添加了内容，请将它们删掉。</p></blockquote>\n<p>这一步相信经常使用Linux的同志们都很清楚了，由于国外的软件仓库物理上距离我们就远，再加上各种各样的原因，我们下载软件包的时候，需要使用国内的下载镜像站来加速我们的下载，这里镜像站有很多，我们使用原文中给出的四个就完全够用了</p>\n<p>编辑 <code>/etc/pacman.d/mirrorlist</code></p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">vim</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/etc/pacman.d/mirrorlist</span></span></code></pre></div><p>可能会打开两个不一样的配置文件，无所谓哪个，在最上面加入镜像即可</p>\n<p>添加条目在最上面，在最上面的会优先被调用，在文件的最顶端添加，选择一项即可，</p>\n<p>[vim 基本使用] 按 <code>i</code> 进入插入模式，之后按 <code>Esc</code>，然后输入<code>:wq!</code>保存退出</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#清华源</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Server</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">https://mirrors.tuna.tsinghua.edu.cn/archlinux/</span><span style=\"color: #BABED8\">$repo</span><span style=\"color: #C3E88D\">/os/</span><span style=\"color: #BABED8\">$arch</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#其他镜像源</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Server</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">https://mirrors.ustc.edu.cn/archlinux/</span><span style=\"color: #BABED8\">$repo</span><span style=\"color: #C3E88D\">/os/</span><span style=\"color: #BABED8\">$arch</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Server</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">https://repo.huaweicloud.com/archlinux/</span><span style=\"color: #BABED8\">$repo</span><span style=\"color: #C3E88D\">/os/</span><span style=\"color: #BABED8\">$arch</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Server</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">http://mirror.lzu.edu.cn/archlinux/</span><span style=\"color: #BABED8\">$repo</span><span style=\"color: #C3E88D\">/os/</span><span style=\"color: #BABED8\">$arch</span></span></code></pre></div><p>禁用reflector服务晚了会出现如下界面</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107105409081.png\" alt=\"image-20241107105409081\"></p>\n<p>禁用reflector服务成功会出现如下界面</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107110239348.png\" alt=\"image-20241107110239348\"></p>\n<p>并执行<code>pacman -Syy</code>命令，更新仓库信息。</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-Syy</span></span></code></pre></div><h3 id=\"2-7-更新系统时间\"><a href=\"#2-7-更新系统时间\" class=\"headerlink\" title=\"2.7 更新系统时间\"></a>2.7 更新系统时间</h3><p>系统时间的准确是十分重要的，我们的SSL证书等等以及例如OTP等等很多服务，都是要建立在时间准确的前提下的，所以这一步是至关重要的。</p>\n<p>使用命令同步系统时间</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">timedatectl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">set-ntp</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">true</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 将系统时间与网络时间进行同步</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">timedatectl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">status</span><span style=\"color: #BABED8\"> \t\t\t </span><span style=\"color: #676E95; font-style: italic\"># 检查服务状态</span></span></code></pre></div><p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107104151717.png\" alt=\"image-20241107104151717\"></p>\n<h3 id=\"2-8-star-磁盘分区\"><a href=\"#2-8-star-磁盘分区\" class=\"headerlink\" title=\"2.8 :star: 磁盘分区\"></a>2.8 :star: 磁盘分区</h3><ul>\n<li><code>/</code> 根目录：<code>&gt;= 128GB</code>（和用户主目录在同一个 <code>Btrfs</code> 文件系统上）</li>\n<li><code>/home</code> 用户主目录：<code>&gt;= 128GB</code>（和根目录在同一个 <code>Btrfs</code> 文件系统上）</li>\n<li><code>/boot</code> EFI 分区：<code>256MB</code>（由电脑厂商或 Windows 决定，无需再次创建）</li>\n<li>Swap 分区：<code>&gt;= 电脑实际运行内存的 60%</code>（设置这个大小是为了配置休眠准备）</li>\n</ul>\n<p>查看一下我们当前的磁盘状态</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">lsblk</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 显示当前分区情况</span></span></code></pre></div><p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107112529787.png\" alt=\"image-20241107112529787\"></p>\n<p>可以看到我们分了40G的盘就在这里，我们要操作的就是这个盘，记住了，他叫做sda，这一步很重要，不要搞错了名字。</p>\n<p>（如何判断我们的盘是哪一个&#x3D;&gt;你新建虚拟机的时候分了多少的空间，这里哪一个吻合就是哪一个）</p>\n<p>查看硬盘分区前状态：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">fdisk</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-l</span></span></code></pre></div><p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107112320771.png\" alt=\"image-20241107112320771\"></p>\n<p>Disk &#x2F;dev&#x2F;sda 40 GiB就是本次要安装的硬盘。记住&#x2F;dev&#x2F;sda</p>\n<p>「loop0」结尾的可以忽略，一般来说只用考虑 &#x2F;dev&#x2F;sda。在这个块设备上新建分区</p>\n<h4 id=\"2-8-1-使用cfdisk工具进行分区\"><a href=\"#2-8-1-使用cfdisk工具进行分区\" class=\"headerlink\" title=\"2.8.1 使用cfdisk工具进行分区\"></a>2.8.1 使用<code>cfdisk</code>工具进行分区</h4><p>执行命令<code>cfdisk /dev/sda</code>命令开始进行分区（<strong>注意：一般情况下你的硬盘应该也是&#x2F;dev&#x2F;sda。如果不是，自行修改</strong>）</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">cfdisk</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/dev/sda</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 对安装 archlinux 的磁盘分区</span></span></code></pre></div><p>选择<strong>gpt分区表</strong></p>\n<img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107112941876.png\" alt=\"image-20241107112941876\" style=\"zoom:67%;\" />\n\n<img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107113001673.png\" alt=\"image-20241107113001673\" style=\"zoom:67%;\" />\n\n<p>可以看到下面有一排操作选择，我们可以使用左右方向键来移动。</p>\n<ul>\n<li>第一个New为新建，也就是从某个空间中拿出多少空间作为新建磁盘区。</li>\n<li>第二个Quit为退出，即退出这个软件</li>\n<li>第四个Write为写入，即保存修改</li>\n</ul>\n<p>剩下的选项我们用不到，暂且不做讲述，知道如何使用之后，我们来继续操作</p>\n<h4 id=\"1-分区方案\"><a href=\"#1-分区方案\" class=\"headerlink\" title=\":+1: 分区方案\"></a>:+1: 分区方案</h4><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>建议win和linux各自单独使用一个efi分区，不要共用一个efi，极大概率你多次切换系统后进不了linux</p></blockquote>\n<p>archLinux官方wiki给的分区建议，上面为<strong>UEFI</strong>，下面为<strong>Bios</strong></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107114933851.png\" alt=\"image-20241107114933851\"></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>40G分区方案:</p>\n<p>&#x2F;boot  500M   &#x2F;dev&#x2F;sda1   efi引导分区</p>\n<p>swap   4G     &#x2F;dev&#x2F;sda2   类似于Windows的交换文件，可以是运行内存大小的60%左右</p>\n<p>&#x2F;      35.5G  &#x2F;dev&#x2F;sda3   Linux系统区</p></blockquote>\n<p>点击new-&gt;输入500M，new-&gt;输入4G，最后new-&gt;默认大小。得到如下：</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107114159052.png\" alt=\"image-20241107114159052\"></p>\n<p>然后修改分区类型（红框部分）。</p>\n<p>选中相应分区后，点击<code>type</code>，更改类型，结果如下：</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107113758842.png\" alt=\"image-20241107113758842\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107113819576.png\" alt=\"image-20241107113819576\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107113430963.png\" alt=\"image-20241107113430963\"></p>\n<ul>\n<li>第一个Delete是删除当前所选磁盘，删除之后，其空间会返回到Free space中，如果分错了可以选择这个删除重新分配</li>\n<li>第三个Quit是退出，不用多说了</li>\n<li>第四个Type是调整磁盘类型</li>\n<li>第六个Write为将修改写入磁盘，相当与“保存”功能</li>\n</ul>\n<p>:warning: <strong>最后一步（很重要）：一定要点击<code>Write</code>,以更改分区表,然后点击Quit退出</strong></p>\n<p>可以看到这里有个提示，我们确认无误后输入yes（一定要输入完整的“yes”，不要缩写输入y，这样不会保存）</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107114423937.png\" alt=\"image-20241107114423937\"></p>\n<p>当下方提示“The partition table has been altered.”后，说明修改成功，我们就可以选择Quit来退出了</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107113619174.png\" alt=\"image-20241107113619174\"></p>\n<p>查看磁盘分区后状态</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">fdisk</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-l</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 复查磁盘情况</span></span></code></pre></div><p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107115228239.png\" alt=\"image-20241107115228239\"></p>\n<p>如果这里显示的和你设置的相一致，说明磁盘的分盘就已经完成了。我们可以进行格盘了</p>\n<h3 id=\"2-9-star-格式化分区\"><a href=\"#2-9-star-格式化分区\" class=\"headerlink\" title=\"2.9 :star: 格式化分区\"></a>2.9 :star: 格式化分区</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>请按照你的实际来选择硬盘进行格式化，请仔细一点，不要不小心把win的文件格式化了</p></blockquote>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">mkfs.[文件系统]</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-f</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/dev/[分区编号]</span></span></code></pre></div><p>1、首先格式化efi分区，运行命令</p>\n<div class=\"language-sh\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sh</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">mkfs.vfat</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-F32</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/dev/sda1</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># EFI分区格式化成vfat文件系统</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">##或者</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">mkfs.fat</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-F32</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/dev/sda1</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># efi</span></span></code></pre></div><p>2、随后格式化Swap分区</p>\n<div class=\"language-sh\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sh</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">mkswap</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/dev/sda2</span></span></code></pre></div><p>3、格式化Btrfs分区（格式化系统分区）</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>使用Btrfs，后续搭配使用Timeshift进行备份更方便快捷</p></blockquote>\n<p><a href=\"https://linux.cn/article-7083-1.html\">如何选择文件系统：EXT4、Btrfs 和 XFS</a></p>\n<p>格式化的话现在xfs更好一点吧，或者ext4稳定一些，btrfs是Linux未来的发展趋势</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\"># sda3格式化成 btrfs文件系统</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">mkfs.btrfs</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-f</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/dev/sda3</span><span style=\"color: #BABED8\"> </span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#这里-L选项后的arch可以自定义一个名字，这个名字将作为分区的LABLE，请不要使用空格和特殊字符，这里我以arch这个名字作为分区的LABLE</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">mkfs.btrfs</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-L</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">myArch</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/dev/sda3</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">##或者</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">mkfs.xfs</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-f</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/dev/sda3</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 格式化成 xfs 文件系统</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">mkfs.ext4</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/dev/sda3</span><span style=\"color: #BABED8\">   </span><span style=\"color: #676E95; font-style: italic\"># 格式化成 ext4 文件系统</span></span></code></pre></div><p>4、创建子卷[选择btrfs的执行此项]</p>\n<div class=\"language-sh\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sh</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#为了创建子卷，我们需要先将 Btrfs 分区挂载到 /mnt 下：</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">mount</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-t</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">btrfs</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-o</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">compress=zstd</span><span style=\"color: #BABED8\">  </span><span style=\"color: #C3E88D\">/dev/sdxn</span><span style=\"color: #BABED8\">  </span><span style=\"color: #C3E88D\">/mnt</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#创建两个 Btrfs 子卷，之后将分别挂载到 / 根目录和 /home 用户主目录</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">btrfs</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">subvolume</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">create</span><span style=\"color: #BABED8\">  </span><span style=\"color: #C3E88D\">/mnt/@</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 创建 / 目录子卷</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">btrfs</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">subvolume</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">create</span><span style=\"color: #BABED8\">  </span><span style=\"color: #C3E88D\">/mnt/@home</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 创建 /home 目录子卷</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">umount</span><span style=\"color: #BABED8\">  </span><span style=\"color: #C3E88D\">/mnt</span><span style=\"color: #BABED8\">  </span><span style=\"color: #676E95; font-style: italic\">#子卷创建好后，我们需要将 /mnt 卸载掉，以挂载子卷：</span></span></code></pre></div><p>以上命令没有出错的话使用<code>lsblk -f</code>查看结果：</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107121357062.png\" alt=\"image-20241107121357062\"></p>\n<h3 id=\"2-10-star-挂载分区\"><a href=\"#2-10-star-挂载分区\" class=\"headerlink\" title=\"2.10 :star: 挂载分区\"></a>2.10 :star: 挂载分区</h3><h4 id=\"2-10-1-挂载命令\"><a href=\"#2-10-1-挂载命令\" class=\"headerlink\" title=\"2.10.1 挂载命令\"></a>2.10.1 挂载命令</h4><p>:warning: 一定要先挂载<strong>根分区 &#x2F;</strong></p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">mount</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/dev/sda3</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/mnt</span><span style=\"color: #BABED8\">  </span><span style=\"color: #676E95; font-style: italic\">#mnt就是总挂载点，根目录</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#或者    </span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">mount</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-t</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">btrfs</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-o</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">subvol=/@,compress=zstd</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/dev/sda3</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/mnt</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 挂载 / 目录</span></span></code></pre></div><p>挂载**&#x2F;home**</p>\n<div class=\"language-sh\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sh</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">mkdir</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/mnt/home</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 创建 /home 目录</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">mount</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-t</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">btrfs</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-o</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">subvol=/@home,compress=zstd</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/dev/sda3</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/mnt/home</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 挂载 /home 目录</span></span></code></pre></div><p>挂载 **&#x2F;boot **分区 UEFI 引导必须有独立的 boot 分区作为 EFI 分区，将导致系统无引导无法启动。</p>\n<p>双系统安装可以直接挂载 Windows 的 EFI 分区，如果出现分区大小不足请自行创建一个 boot 分区。</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">mkdir</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-p</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/mnt/boot</span><span style=\"color: #BABED8\">\t\t\t\t</span><span style=\"color: #676E95; font-style: italic\">#在根目录新建boot文件夹</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">mount</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/dev/sda1</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/mnt/boot</span><span style=\"color: #BABED8\">  </span><span style=\"color: #676E95; font-style: italic\">#把sda1挂载到boot文件夹</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#或者</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">mkdir</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-p</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/mnt/boot/efi</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">mount</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/dev/sda1</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/mnt/boot/efi</span></span></code></pre></div><p><strong>&#x2F;swap</strong> 分区无需挂载，仅使用下列命令启用即可</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">swapon</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/dev/sda2</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 挂载swap</span></span></code></pre></div><p>使用<code>lsblk -f</code>查看是否正确挂载</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107130711802.png\" alt=\"image-20241107130711802\"></p>\n<h4 id=\"2-10-2-取消挂载\"><a href=\"#2-10-2-取消挂载\" class=\"headerlink\" title=\"2.10.2 取消挂载\"></a>2.10.2 取消挂载</h4><p>若需要修改磁盘文件格式，需要取消挂载再重新格式化分区</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#先取消挂载/mnt/boot</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">unmount</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/dev/sda1</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/mnt/boot</span><span style=\"color: #BABED8\">   </span><span style=\"color: #676E95; font-style: italic\">#把sda1挂载到boot文件夹</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#再取消挂载/mnt</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">unmount</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/dev/sda3</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/mnt</span><span style=\"color: #BABED8\">     </span><span style=\"color: #676E95; font-style: italic\">#mnt就是总挂载点，根目录</span></span></code></pre></div><p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107130250902.png\" alt=\"image-20241107130250902\"></p>\n<h3 id=\"2-11-安装基本系统\"><a href=\"#2-11-安装基本系统\" class=\"headerlink\" title=\"2.11 安装基本系统\"></a>2.11 安装基本系统</h3><p>安装 base 软件包、Linux 内核和固件。这一步会花费较多时间，耐心等待即可，保证网络连接的稳定。</p>\n<p><strong>pacstrap</strong> 是 ArchISO 中的一个脚本，可以自动完成基础但繁琐的系统配置如内核的配置。</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacstrap</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/mnt</span><span style=\"color: #BABED8\"> [软件包]</span></span></code></pre></div><p>安装基本系统，最好先安装标准内核</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacstrap</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/mnt</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">base</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">base-devel</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">linux</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">linux-headers</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">linux-firmware</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">btrfs-progs</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 如果使用btrfs文件系统，额外安装一个btrfs-progs包</span></span></code></pre></div><p>安装其他软件</p>\n<div class=\"language-sh\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sh</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacstrap</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/mnt</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">vim</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">e2fsprogs</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">ntfs-3g</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">networkmanager</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">vim</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">zsh</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">zsh-completions</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">git</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">openssl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">dhcpcd</span><span style=\"color: #BABED8\"> </span></span></code></pre></div><table>\n<thead>\n<tr>\n<th align=\"center\">软件包名</th>\n<th align=\"left\">内容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">base</td>\n<td align=\"left\">元软件包(必要的）</td>\n</tr>\n<tr>\n<td align=\"center\">base-devel</td>\n<td align=\"left\">基础软件包组，<code>base-devel</code> 在 <code>AUR</code> 包的安装过程中是必须用到的</td>\n</tr>\n<tr>\n<td align=\"center\">linux</td>\n<td align=\"left\">内核和头文件选择，(linux linux-headers[标准内核] 或 linux-lts linux-lts-headers[长期支持内核] 或 linux-zen linux-zen-headers[高性能内核])等</td>\n</tr>\n<tr>\n<td align=\"center\">linux-firmware</td>\n<td align=\"left\">固件包</td>\n</tr>\n<tr>\n<td align=\"center\">networkmanager</td>\n<td align=\"left\">网络</td>\n</tr>\n<tr>\n<td align=\"center\">grub</td>\n<td align=\"left\">引导</td>\n</tr>\n<tr>\n<td align=\"center\">os-prober</td>\n<td align=\"left\">多系统检测</td>\n</tr>\n<tr>\n<td align=\"center\">efibootmgr</td>\n<td align=\"left\">efi启动项管理</td>\n</tr>\n<tr>\n<td align=\"center\">ntfs-3g</td>\n<td align=\"left\">ntfs可读写，与Windows的NTFS有关的软件包，如果是单系统可以不安装。</td>\n</tr>\n<tr>\n<td align=\"center\">nano</td>\n<td align=\"left\">文本编辑器</td>\n</tr>\n<tr>\n<td align=\"center\">cpu编码</td>\n<td align=\"left\">英特尔是 intel-ucode，amd是 amd-ucode</td>\n</tr>\n<tr>\n<td align=\"center\">bluez bluez-utils</td>\n<td align=\"left\">蓝牙</td>\n</tr>\n<tr>\n<td align=\"center\">vim</td>\n<td align=\"left\">编辑器</td>\n</tr>\n<tr>\n<td align=\"center\">e2fsprogs</td>\n<td align=\"left\">ext4 文件系统所需工具，如果你是按使用 ext4 文件系统则必须安装该软件包。</td>\n</tr>\n</tbody></table>\n<p>如果提示 GPG 证书错误，可能是因为使用的不是最新的镜像文件，可以通过更新 <code>archlinux-keyring</code> 解决此问题</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-Sy</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">archlinux-keyring</span></span></code></pre></div><p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107133031914.png\" alt=\"image-20241107133031914\"></p>\n<h3 id=\"2-12-生成fstab文件\"><a href=\"#2-12-生成fstab文件\" class=\"headerlink\" title=\"2.12 生成fstab文件\"></a>2.12 生成fstab文件</h3><p>fstab文件时用来定义硬盘分区的重要文件，是必不可少的文件之一，它告知新系统如何挂载文件系统。由于我们之前已经挂载了重要的磁盘分区sda1、sda2和sda3，这里我们可以使用genfstab命令来根据挂载情况自动生成并且写入fstab文件，运行命令</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">genfstab</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-U</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/mnt</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&gt;&gt;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/mnt/etc/fstab</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#自动挂载配置文件</span></span></code></pre></div><p>生成 fstab 文件。这个文件规定了文件系统之间的挂载。</p>\n<p>运行之后如果没有返回任何信息，说明执行成功，由于是自动生成，为了确保无误，我们来看一下fastab中的信息，运行命令</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">cat</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/mnt/etc/fastab</span></span></code></pre></div><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107214036995.png\" alt=\"image-20241107214036995\" style=\"zoom:67%;\" />\n\n<p>看看对应的是否正确，如果正确，那么这一步就算是完成了，可以进行下一步操作了</p>\n<hr>\n<h2 id=\"3、进入新系统前的配置\"><a href=\"#3、进入新系统前的配置\" class=\"headerlink\" title=\"3、进入新系统前的配置\"></a>3、进入新系统前的配置</h2><h3 id=\"3-0-切换系统\"><a href=\"#3-0-切换系统\" class=\"headerlink\" title=\"3.0 切换系统\"></a>3.0 切换系统</h3><p>使用<code>arch-chroot</code>命令来切换到我们安装好的Arch系统环境中，运行命令进入安装好的系统。</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">arch-chroot</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/mnt</span></span></code></pre></div><p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107220108476.png\" alt=\"image-20241107220108476\"></p>\n<p>当我们运行之后，shell会变成如上样式，此时的 &#x2F;mnt目录 其实就相当于我们新安装系统的 根目录&#x2F;</p>\n<p>进入完成之后，我们即可进行对系统的下一步配置操作</p>\n<h3 id=\"3-1-设置时区并同步硬件时间\"><a href=\"#3-1-设置时区并同步硬件时间\" class=\"headerlink\" title=\"3.1 设置时区并同步硬件时间\"></a>3.1 设置时区并同步硬件时间</h3><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">ln</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-sf</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/usr/share/zoneinfo/Asia/Shanghai</span><span style=\"color: #BABED8\">  </span><span style=\"color: #C3E88D\">/etc/localtime</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#设置时区为上海</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">hwclock</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">--systohc</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#将系统时间同步到硬件时间</span></span></code></pre></div><h3 id=\"3-2-设置系统语言\"><a href=\"#3-2-设置系统语言\" class=\"headerlink\" title=\"3.2 设置系统语言\"></a>3.2 设置系统语言</h3><p><code>Locale</code> 决定了软件使用的语言、书写习惯和字符集。</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">vim</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/etc/locale.gen　　</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#把 en_US.UTF-8 UTF-8 和 zh_CN.UTF-8 UTF-8 这2行注释取消（删除#号）</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">locale-gen　　</span><span style=\"color: #BABED8\">\t\t\t\t\t</span><span style=\"color: #676E95; font-style: italic\">#生成语言</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">vim</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/etc/locale.conf　　#在文本内加入LANG=en_US.UTF-8</span></span></code></pre></div><p>1、编辑<code>/etc/locale.gen</code>下面两行解开注释（前面的#去掉）,保存并退出wq！</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">en_US.UTF-8</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">UTF-8</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">zh_CN.UTF-8</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">UTF-8</span></span></code></pre></div><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107221316524.png\" alt=\"image-20241107221316524\"  />\n\n<img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107221353212.png\" alt=\"image-20241107221353212\"  />\n\n<p>2、然后执行<code>locale-gen</code>命令生成locale。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107221606797.png\" alt=\"image-20241107221606797\"></p>\n<p>3、再创建<code>/etc/locale.conf</code>文件，写入内容<code>LANG=en_US.UTF-8</code>  或者 执行</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #82AAFF\">echo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">LANG=en_US.UTF-8</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #BABED8\"> \\&gt; </span><span style=\"color: #C3E88D\">/etc/locale.conf</span></span></code></pre></div><p>不推荐在此设置任何中文 <code>locale</code>，会导致 <code>tty</code> 乱码。</p>\n<h3 id=\"3-3-设置主机名和网络配置\"><a href=\"#3-3-设置主机名和网络配置\" class=\"headerlink\" title=\"3.3 设置主机名和网络配置\"></a>3.3 设置主机名和网络配置</h3><p>某些情况下如不设置主机名，在 KDE 下可能会存在网络情况变更时无法启动 GUI 应用的问题，在终端中出现形如 <code>No protocol specified qt.qpa.xcb: could not connect to display</code> 的错误。这种情况极为少见。</p>\n<p>但不管如何，即使没有问题，我们都应该设置好主机名</p>\n<p><strong>设置 主机名</strong></p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">vim</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/etc/hostname</span></span></code></pre></div><p>在其中写你喜欢的主机名，注意不要特殊字符，写完保存即可</p>\n<p><strong>设置 hosts 文件</strong></p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">vim</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/etc/hosts</span></span></code></pre></div><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#在 hosts 内添加：</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">127.0.0.1</span><span style=\"color: #BABED8\">    </span><span style=\"color: #C3E88D\">localhost</span></span>\n<span class=\"line\"><span style=\"color: #82AAFF\">:</span><span style=\"color: #BABED8\">:1          </span><span style=\"color: #C3E88D\">localhost</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">127.0.1.1</span><span style=\"color: #BABED8\">   [主机名].localdomain </span><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">主机名</span><span style=\"color: #89DDFF\">]</span></span></code></pre></div><p>注意这里的 archlinux.localdomain archlinux中 的 archlinux 为你的主机名，请根据实际情况更改(主机名区分大小写，注意添加的条目前面不要有#)</p>\n<h3 id=\"3-4-star-设置root密码\"><a href=\"#3-4-star-设置root密码\" class=\"headerlink\" title=\"3.4 :star: 设置root密码\"></a>3.4 :star: 设置root密码</h3><p>安装成功后续需要重启系统，<strong>重启后需要输入密码进入系统</strong></p>\n<p>执行<code>passwd</code>命令，输入密码；</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107225226056.png\" alt=\"image-20241107225226056\"></p>\n<p>输入密码的时候会让你输入两次，一次为输入，一次为验证，且输入的时候不会显示信息，成功修改之后会显示如上提示信息</p>\n<h3 id=\"3-5-安装微码\"><a href=\"#3-5-安装微码\" class=\"headerlink\" title=\"3.5 安装微码\"></a>3.5 安装微码</h3><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">intel-ucode</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># Intel</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">amd-ucode</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># AMD</span></span></code></pre></div><h3 id=\"3-6-star-配置grub启动引导\"><a href=\"#3-6-star-配置grub启动引导\" class=\"headerlink\" title=\"3.6 :star: 配置grub启动引导\"></a>3.6 :star: 配置grub启动引导</h3><p>1、使用grub作为引导，还要安装能Windows塞进去的软件</p>\n<div class=\"language-sh\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sh</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">grub</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">efibootmgr</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">os-prober</span></span></code></pre></div><ul>\n<li><code>grub</code> —— 启动引导器</li>\n<li><code>efibootmgr</code> —— <code>efibootmgr</code> 被 <code>grub</code> 脚本用来将启动项写入 NVRAM</li>\n<li><code>os-prober</code> —— 为了能够引导 win10，需要安装 <code>os-prober</code> 以检测到它</li>\n</ul>\n<p>2、将GRUB安装到EFI分区，运行命令，UEFI启动方式</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">grub-install</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">--target=x86_64-efi</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">--efi-directory=/boot</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">--bootloader-id=GRUB</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\"># --efi-directory=/boot —— 将 grubx64.efi 安装到之前的指定位置（EFI 分区）</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\"># --bootloader-id=ARCH —— 取名为 GRUB</span></span></code></pre></div><p>3、更新grub引导</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>ps：此时可能没有出现win的引导，先不要慌，等后面安装好系统重新更新引导就可以看见win的引导了</p></blockquote>\n<div class=\"language-sh\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sh</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">grub-mkconfig</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-o</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/boot/grub/grub.cfg</span></span></code></pre></div><p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107230131005.png\" alt=\"image-20241107230131005\"></p>\n<p>如果出现No error reported，恭喜，GRUB此时已经成功安装到EFI磁盘分区了。</p>\n<h3 id=\"3-7-star-配置多系统启动项\"><a href=\"#3-7-star-配置多系统启动项\" class=\"headerlink\" title=\"3.7 :star: 配置多系统启动项\"></a>3.7 :star: 配置多系统启动项</h3><p><a href=\"https://www.bilibili.com/video/BV1XY4y1f77S?t=773.6\">https://www.bilibili.com/video/BV1XY4y1f77S?t=773.6</a></p>\n<p><a href=\"https://blog.csdn.net/qq_19404587/article/details/122713869\">Arch&amp;Win10双磁盘双系统安装及相关知识</a></p>\n<p>1、安装os-prober以检测多系统启动项</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">grub</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">efibootmgr</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">os-prober</span><span style=\"color: #BABED8\"> </span></span></code></pre></div><p>2、<strong>执行 os-prober 未找到 windows 系统的问题：</strong></p>\n<p><strong>原因：</strong>因为 Grub 默认配置 GRUB_DISABLE_OS_PROBER&#x3D;false这行被注释掉了，即默认不进行系统探测，</p>\n<p><strong>解决：</strong>在&#x2F;etc&#x2F;default&#x2F;grub文件中找到这一行，将前面的“#”去掉，然后再次执行 os-prober 和 grub-mkconfig -o &#x2F;boot&#x2F;grub&#x2F;grub.cfg 即可！</p>\n<p>启用 os-prober，新版grub默认禁用os-prober，需要手动启用</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">vim</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/etc/default/grub</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">##/etc/default/grub </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">GRUB_DISABLE_OS_PROBER</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">false</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#去掉“#”</span></span></code></pre></div><p>去除前面的“#”符号保存退出</p>\n<img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107225555730.png\" alt=\"image-20241107225555730\" style=\"zoom:67%;\" />\n\n\n\n<p>[可选]进行如下修改：</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241111230221841.png\" alt=\"image-20241111230221841\"></p>\n<ul>\n<li>去掉 <code>GRUB_CMDLINE_LINUX_DEFAULT</code> 一行中最后的 <code>quiet</code> 参数</li>\n<li>把 <code>loglevel</code> 的数值从 <code>3</code> 改成 <code>5</code>。这样是为了后续如果出现系统错误，方便排错</li>\n<li>加入 <code>nowatchdog</code> 参数，这可以显著提高开关机速度</li>\n</ul>\n<p><code>nowatchdog</code> 参数无法禁用英特尔的看门狗硬件，改为 <code>modprobe.blacklist=iTCO_wdt</code> 即可。如有需要可以参考 <a href=\"https://wiki.archlinuxcn.org/wiki/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96#%E7%9C%8B%E9%97%A8%E7%8B%97\">ArchWiki 对应内容</a></p>\n<p>3、<strong>安装以后重新启动，发现Grub引导界面只有 Arch 引导项，没有 windows ！</strong></p>\n<p>在安装Grub的过程（grub-mkconfig操作）中，确实没有类似“Found Microsof Windows…”的输出信息，所以在 Grub 引导界面可能会看不到 Windows Manager 选项，需要手动修复一下。</p>\n<p>首先查看ESP分区的uuid（即 windows 的EFI分区，如&#x2F;dev&#x2F;sda2：UUID&#x3D;“xxxx-xxxx”）</p>\n<p>也就是记下：win系统的启动分区的uuid，这个分区可以和linux启动分区不在同一个物理磁盘上。</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">blkid</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#或输入blkid /dev/&lt;ESP所在磁盘，例如sda、sdb、nvm0&gt;</span></span></code></pre></div><p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241111102504610.png\" alt=\"image-20241111102504610\"></p>\n<p>使用root用户登录Archlinux，通过以下命令编辑 Grub 的配置文件</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">vim</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/boot/grub/grub.cfg</span></span></code></pre></div><p>手动添加win启动项，追加如下内容：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">menuentry</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">Microsoft Windows 10</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #FFCB6B\">innmod</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">part_gpt</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #FFCB6B\">insmod</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">fat</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#一般填fat，不要填vfat</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #FFCB6B\">insmod</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">chain</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #FFCB6B\">search</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">--fs-uuid</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">--no-floppy</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">--set=root</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">xxxx-xxxx</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">## 这里填上ESP分区的UUID</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #FFCB6B\">chainloader</span><span style=\"color: #BABED8\"> ($&#123;</span><span style=\"color: #FFCB6B\">root&#125;</span><span style=\"color: #BABED8\">)/EFI/Microsoft/Boot/bootmgfw.efi</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">&#125;</span></span></code></pre></div><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241111102242436.png\" alt=\"image-20241111102242436\" style=\"zoom:67%;\" />\n\n<p>保存后重启，出现win选项即成功！</p>\n<hr>\n<p>[可选操作]</p>\n<p>最后做一下启动的优化小操作，使用vim编辑&#x2F;etc&#x2F;default&#x2F;grub文件，运行命令</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">vim</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/etc/default/grub</span></span></code></pre></div><p>修改GRUB_CMDLINE_LINUX_DEFAULT一行，将末尾的quite去掉，添加nowatchdog，并且修改loglevel&#x3D;5。修改后的图如下</p>\n<img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107230521126.png\" alt=\"image-20241107230521126\" style=\"zoom:67%;\" />\n\n<p>随后保存，保存完毕之后运行命令</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">grub-mkconfig</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-o</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/boot/grub/grub.cfg</span></span></code></pre></div><p>至此，引导制作完成</p>\n<hr>\n<h3 id=\"3-8-重启系统完成安装\"><a href=\"#3-8-重启系统完成安装\" class=\"headerlink\" title=\"3.8 重启系统完成安装\"></a>3.8 重启系统完成安装</h3><p>这样我们的系统就配置好了，此时重启。执行</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #82AAFF\">exit</span><span style=\"color: #BABED8\">　　\t\t\t\t\t</span><span style=\"color: #676E95; font-style: italic\">#退出系统登录,退出 chroot</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">umount</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-R</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/mnt　　#</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">取消挂载</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">reboot</span><span style=\"color: #BABED8\">  \t\t\t\t </span><span style=\"color: #676E95; font-style: italic\"># 重启</span></span></code></pre></div><p>ps：<strong>重启前要先拔掉优盘</strong>，否则你重启后还是进安装程序而不是安装好的系统。</p>\n<p>重启后看到GRUB，就表示引导成功，系统能正常启动。</p>\n<img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241107232734444.png\" alt=\"image-20241107232734444\" style=\"zoom:67%;\" />\n\n<p><strong>可以看到并没有windows选项，只要进入系统重新更新一下grub就有了</strong></p>\n<img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241108192953982.png\" alt=\"image-20241108192953982\" style=\"zoom:67%;\" />\n\n<p>若没有新建用户，此时通过tty输入root和密码即可登录系统</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241108085016600.png\" alt=\"image-20241108085016600\"></p>\n<h2 id=\"4、进入新系统后的配置\"><a href=\"#4、进入新系统后的配置\" class=\"headerlink\" title=\"4、进入新系统后的配置\"></a>4、进入新系统后的配置</h2><h3 id=\"4-1-创建新用户并设置其可以使用sudo权限\"><a href=\"#4-1-创建新用户并设置其可以使用sudo权限\" class=\"headerlink\" title=\"4.1 创建新用户并设置其可以使用sudo权限\"></a>4.1 创建新用户并设置其可以使用<code>sudo</code>权限</h3><p>root 用户的权限过高，造成对系统灾难性的损坏的风险因此较高，我们因此新建一个用户</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">useradd</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-m</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-G</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">wheel</span><span style=\"color: #BABED8\"> [username] </span><span style=\"color: #676E95; font-style: italic\">#创建普通用户</span></span></code></pre></div><p>为用户创建密码</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">passwd</span><span style=\"color: #BABED8\"> [username]</span></span></code></pre></div><p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241108182059639.png\" alt=\"image-20241108182059639\"></p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">useradd</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-m</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">vicking</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">## 创建用户名为 vicking 的用户，并创建其家目录</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">passwd</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">vicking</span><span style=\"color: #BABED8\">  </span><span style=\"color: #676E95; font-style: italic\">## 修改 vicking 的密码</span></span></code></pre></div><p>不使用 root 时如何获得 root 权限呢？需要在命令前加上 sudo，而 sudo 也需要先安装：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">sudo</span></span></code></pre></div><p>编辑sudoers赋予用户权限</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">vim</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/etc/sudoers</span></span></code></pre></div><p>进入 Vim 编辑器，找到</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\"># %wheel ALL=(ALL) ALL</span></span></code></pre></div><p>一行，把「#」去掉，保存退出。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241108182717907.png\" alt=\"image-20241108182717907\"></p>\n<p>配置好之后重启</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">reboot</span></span></code></pre></div><p>重启之后我们就可以使用新创建的用户；输入用户名和密码，进入系统。</p>\n<h3 id=\"4-2-安装ssh服务，并设置开机启动\"><a href=\"#4-2-安装ssh服务，并设置开机启动\" class=\"headerlink\" title=\"4.2 安装ssh服务，并设置开机启动\"></a>4.2 安装ssh服务，并设置开机启动</h3><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">openssh</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">systemctl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">enable</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">sshd</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#用户ssh连接到虚拟机</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">ssh</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">username@xxx.xxx.xxx.xxx</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">## ip地址要现在终端登录后使用ip addr命令查看。</span></span></code></pre></div><h3 id=\"4-3-设置网络管理开机启动\"><a href=\"#4-3-设置网络管理开机启动\" class=\"headerlink\" title=\"4.3 设置网络管理开机启动\"></a>4.3 设置网络管理开机启动</h3><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">networkmanager</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#或NetworkManager,这是有线的情况，无线情况自行查找archwiki</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">systemctl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">start</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">NetworkManager</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#启动NetworkManager</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">systemctl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">enable</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">NetworkManager</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#将NetworkManager设置为开机自启</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">##或者</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">systemctl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">enable</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">--now</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">NetworkManager</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#立即启动NetworkManager并将其设置为开机自启</span></span></code></pre></div><h3 id=\"4-4-连接网络\"><a href=\"#4-4-连接网络\" class=\"headerlink\" title=\"4.4 连接网络\"></a>4.4 连接网络</h3><p>若为无线连接，则需要在启动 <code>networkmanager</code> 后使用 <code>nmcli</code> 连接网络：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">nmcli</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">dev</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">wifi</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">list</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 显示附近的 Wi-Fi 网络</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">nmcli</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">dev</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">wifi</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">connect</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Wi-Fi名（SSID）</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">password</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">网络密码</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 连接指定的无线网络</span></span></code></pre></div><p>也可以使用 <code>nmtui</code> 来配置网络</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">nmtui</span></span></code></pre></div><h3 id=\"4-5-pacman开启多任务下载【可选】\"><a href=\"#4-5-pacman开启多任务下载【可选】\" class=\"headerlink\" title=\"4.5 pacman开启多任务下载【可选】\"></a>4.5 pacman开启多任务下载【可选】</h3><p>如果觉得 pacman 下载软件较慢。可以修改<code>/etc/pacman.conf</code>文件。并把如下行前面的解注释（删除#号即可）。</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">vim</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/etc/pacman.conf</span></span></code></pre></div><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241111223104530.png\" alt=\"image-20241111223104530\" style=\"zoom:67%;\" />\n\n\n\n<h3 id=\"4-6-star-开启32位库和添加ArchLinuxCN仓库\"><a href=\"#4-6-star-开启32位库和添加ArchLinuxCN仓库\" class=\"headerlink\" title=\"4.6 :star: 开启32位库和添加ArchLinuxCN仓库\"></a>4.6 :star: 开启32位库和添加ArchLinuxCN仓库</h3><p>添加archlinuxcn源，这里有国内常用的软件，<strong>AUR的辅助工具</strong>也在这里，不然等编译，等到天荒地老。</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">vim</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/etc/pacman.conf</span></span></code></pre></div><p>**开启32位库：去掉[multilib]部分的 # **并写入如下内容：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF\">[</span><span style=\"color: #BABED8\">archlinuxcn</span><span style=\"color: #89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Server</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/</span><span style=\"color: #BABED8\">$arch </span><span style=\"color: #676E95; font-style: italic\"># 清华大学开源软件镜像站</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#选择一个即可</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Server</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">https://mirrors.ustc.edu.cn/archlinuxcn/</span><span style=\"color: #BABED8\">$arch </span><span style=\"color: #676E95; font-style: italic\"># 中国科学技术大学开源镜像站</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Server</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">https://mirrors.hit.edu.cn/archlinuxcn/</span><span style=\"color: #BABED8\">$arch </span><span style=\"color: #676E95; font-style: italic\"># 哈尔滨工业大学开源镜像站</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">Server</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">https://repo.huaweicloud.com/archlinuxcn/</span><span style=\"color: #BABED8\">$arch </span><span style=\"color: #676E95; font-style: italic\"># 华为开源镜像站</span></span></code></pre></div><p>保存退出执行，更新缓存：</p>\n<div class=\"language-sh\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">sh</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-Syy</span><span style=\"color: #BABED8\"> \t\t\t\t\t\t\t\t\t </span><span style=\"color: #676E95; font-style: italic\">#更新缓存，刷新软件包</span></span></code></pre></div><p>之后更新秘钥</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">archlinuxcn-keyring</span><span style=\"color: #BABED8\">  </span><span style=\"color: #676E95; font-style: italic\">#更新秘钥</span></span></code></pre></div><h3 id=\"4-7-Arch-经典操作\"><a href=\"#4-7-Arch-经典操作\" class=\"headerlink\" title=\"4.7 Arch 经典操作\"></a>4.7 Arch 经典操作</h3><p><code>fastfetch</code> 可以将系统信息和发行版 logo 一并打印出来。</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">fastfetch</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">fastfetch</span></span></code></pre></div><p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241108185016536.png\" alt=\"image-20241108185016536\"></p>\n<p>舒服了:happy:</p>\n<hr>\n<h2 id=\"5、图形界面\"><a href=\"#5、图形界面\" class=\"headerlink\" title=\"5、图形界面\"></a>5、图形界面</h2><h3 id=\"5-1-安装-Display-Server\"><a href=\"#5-1-安装-Display-Server\" class=\"headerlink\" title=\"5.1 安装 Display Server\"></a>5.1 安装 Display Server</h3><p><a href=\"https://zhuanlan.zhihu.com/p/138951848\">https://zhuanlan.zhihu.com/p/138951848</a></p>\n<p>这里用的是开源世界最为流行的xorg，一定要装！</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">xorg</span></span></code></pre></div><h3 id=\"5-2-安装-Display-Manager\"><a href=\"#5-2-安装-Display-Manager\" class=\"headerlink\" title=\"5.2 安装 Display Manager\"></a>5.2 安装 Display Manager</h3><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">systemctl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">enable</span><span style=\"color: #BABED8\"> [YourDM] </span><span style=\"color: #676E95; font-style: italic\"># 开机自启显示管理</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">systemctl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">disable</span><span style=\"color: #BABED8\"> [YourDM] </span><span style=\"color: #676E95; font-style: italic\"># 取消开机自启显示管理,执行此操作后重启回到黑窗口界面！！！</span></span></code></pre></div><p>这里需要按你要安装的桌面环境而定，这里没有列出的可以自己去ArchWiki查</p>\n<p>Gnome：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">gdm</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">systemctl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">enable</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">gdm</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#开机自启显示管理</span></span></code></pre></div><p>KDE：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">sddm</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">systemctl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">enable</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">sddm</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 开机自启显示管理</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">systemctl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">disable</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">sddm</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 取消开机自启显示管理</span></span></code></pre></div><p>Xfce || DDE：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">lightdm</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">lightdm-gtk-greeter</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">systemctl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">enable</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">lightdm</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 设置登录管理器开机启动</span></span></code></pre></div><p>**设置开机自动启动(重要！！！)**，以gdm为例：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">systemctl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">enable</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">gdm</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#开机自启显示管理</span></span></code></pre></div><p>如果是别的请将这里的gdm替换为你安装的那个dm</p>\n<h3 id=\"5-3-安装-Desktop-Environment\"><a href=\"#5-3-安装-Desktop-Environment\" class=\"headerlink\" title=\"5.3 安装 Desktop Environment\"></a>5.3 安装 Desktop Environment</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>多个桌面环境可以共存！！！</p></blockquote>\n<p>Gnome：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">gnome</span></span></code></pre></div><p>KDE：</p>\n<p><strong>关于plasma桌面安装可参考<a href=\"https://zhuanlan.zhihu.com/p/433920079%E3%80%82\">https://zhuanlan.zhihu.com/p/433920079。</a></strong></p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #676E95; font-style: italic\">#还是少装点为好，电脑不好的卡得很</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">plasma</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">kde-applications</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">packagekit-qt5</span></span></code></pre></div><p>Xfce：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">xfce4</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">xfce4-goodies</span></span></code></pre></div><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">xorg</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 安装显示服务，所有的桌面系统都需要这个包</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">xfce4</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">xfce4-goodies</span><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 安装桌面</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#安装字体</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">ttf-dejavu</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">wqy-bitmapfont</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">wqy-microhei</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">wqy-zenhei</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">noto-fonts</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">noto-fonts-emoji</span><span style=\"color: #BABED8\"> </span></span>\n<span class=\"line\"><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\">#安装轻量级的登录管理器</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">lightdm</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">lightdm-gtk-greeter</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">lightdm-gtk-greeter-settings</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\"> </span><span style=\"color: #676E95; font-style: italic\"># 设置登录管理器开机启动</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\"> </span><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">systemctl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">enable</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">lightdm</span><span style=\"color: #BABED8\"> </span></span></code></pre></div><p>DDE：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">deepin</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">deepin-extra</span></span></code></pre></div><h3 id=\"5-4-重启之后使用图形界面\"><a href=\"#5-4-重启之后使用图形界面\" class=\"headerlink\" title=\"5.4 重启之后使用图形界面\"></a>5.4 重启之后使用图形界面</h3><p>选择安装好的桌面环境登录即可使用</p>\n<img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241108192444313.png\" alt=\"image-20241108192444313\" style=\"zoom:67%;\" />\n\n\n\n<h2 id=\"6、本地中文化\"><a href=\"#6、本地中文化\" class=\"headerlink\" title=\"6、本地中文化\"></a>6、本地中文化</h2><h3 id=\"6-1-中文字体\"><a href=\"#6-1-中文字体\" class=\"headerlink\" title=\"6.1 中文字体\"></a>6.1 中文字体</h3><p>我们需要安装中文字体：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">ttf-sarasa-gothic</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">noto-fonts-cjk</span></span></code></pre></div><p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241108193422760.png\" alt=\"image-20241108193422760\"></p>\n<p>配置系统的语言在重启即可汉化系统，这下是大家都看得懂的中文字了。</p>\n<h3 id=\"6-2-中文输入法\"><a href=\"#6-2-中文输入法\" class=\"headerlink\" title=\"6.2 中文输入法\"></a>6.2 中文输入法</h3><p>我们还需要先安装中文输入法，使用 fcitx 框架：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">fcitx</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">fcitx-im</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">fcitx-configtool</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">fcitx-sunpinyin</span></span></code></pre></div><p>再设置一下环境变量：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">vim</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">~/.xprofile</span></span></code></pre></div><p>在编辑器中加入</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #C792EA\">export</span><span style=\"color: #BABED8\"> LANG</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #C3E88D\">zh_CN.UTF-8</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">export</span><span style=\"color: #BABED8\"> LANGUAGE</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #C3E88D\">zh_CN:en_US</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">export</span><span style=\"color: #BABED8\"> LC_CTYPE</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #C3E88D\">en_US.UTF-8</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">export</span><span style=\"color: #BABED8\"> GTK_IM_MODULE</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #C3E88D\">fcitx</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">export</span><span style=\"color: #BABED8\"> QT_IM_MODULE</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #C3E88D\">fcitx</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">export</span><span style=\"color: #BABED8\"> XMODIFIERS</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">@im=fcitx</span><span style=\"color: #89DDFF\">&quot;</span></span></code></pre></div><p>然后执行：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">fcitx-configtool</span></span></code></pre></div><p>如下图所示，点击「+」，然后取消勾选「Only Show Current Language」，找到安装的「Sunpinyin」，点击「OK」。（如果没有出现这些可能需要重启）</p>\n<img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241108225739263.png\" alt=\"image-20241108225739263\" style=\"zoom:67%;\" />\n\n<p>ctrl + 空格  切换输入法</p>\n<img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241108225841848.png\" alt=\"image-20241108225841848\" style=\"zoom:67%;\" />\n\n\n\n<h2 id=\"7、安装-AUR-助手\"><a href=\"#7、安装-AUR-助手\" class=\"headerlink\" title=\"7、安装 AUR 助手\"></a>7、安装 AUR 助手</h2><p>目前我们都使用 pacman 安装软件，而另一个工具 yay 则可以用来安装 AUR（Arch User Repository，Arch 用户库）中的大量软件。</p>\n<h3 id=\"7-1-方式一\"><a href=\"#7-1-方式一\" class=\"headerlink\" title=\"7.1 方式一\"></a>7.1 方式一</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>先配置一下清华源的archlinuxcn</p></blockquote>\n<p>使用pacman安装aur助手yay</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">yay</span></span></code></pre></div><p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241108200529221.png\" alt=\"image-20241108200529221\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/sjwusj/imgbed@main/img/archlinux/image-20241108200546957.png\" alt=\"image-20241108200546957\"></p>\n<h3 id=\"7-2-方式二\"><a href=\"#7-2-方式二\" class=\"headerlink\" title=\"7.2 方式二\"></a>7.2 方式二</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>最好配置一下代理</p></blockquote>\n<p>先安装需要用到的 git 和 base-devel：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">pacman</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-S</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">git</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">base-devel</span></span></code></pre></div><p>然后克隆yay的源码：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">git</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">clone</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">https://aur.archlinux.org/yay.git</span></span>\n<span class=\"line\"><span style=\"color: #82AAFF\">cd</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">yay</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">makepkg</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-si</span></span></code></pre></div><p>makepkg 巨慢无比，等的花儿都谢了:pensive:</p>\n","feature":true,"text":"ArchLinux + Win10 双系统安装过程记录...","permalink":"/post/ArchLinux+Win10双系统安装过程记录","photos":[],"count_time":{"symbolsCount":"15k","symbolsTime":"14 mins."},"categories":[{"name":"操作系统","slug":"操作系统","count":2,"path":"api/categories/操作系统.json"}],"tags":[{"name":"操作系统","slug":"操作系统","count":1,"path":"api/tags/操作系统.json"},{"name":"ArchLinux","slug":"ArchLinux","count":1,"path":"api/tags/ArchLinux.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0\"><span class=\"toc-text\">参考文章</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E8%A7%86%E9%A2%91\"><span class=\"toc-text\">参考视频</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#0%E3%80%81%E5%8D%B8%E8%BD%BDArchlinux%E7%B3%BB%E7%BB%9F\"><span class=\"toc-text\">0、卸载Archlinux系统</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1%E3%80%81%E5%AE%89%E8%A3%85%E5%89%8D%E5%87%86%E5%A4%87\"><span class=\"toc-text\">1、安装前准备</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-1%E3%80%81%E4%B8%8B%E8%BD%BDArchLinux%E9%95%9C%E5%83%8F\"><span class=\"toc-text\">1.1、下载ArchLinux镜像</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-2%E3%80%81%E4%B8%8B%E8%BD%BD%E5%90%AF%E5%8A%A8%E7%9B%98%E5%88%B6%E4%BD%9C%E5%B7%A5%E5%85%B7\"><span class=\"toc-text\">1.2、下载启动盘制作工具</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-3%E3%80%81%E4%B8%8B%E8%BD%BD%E8%99%9A%E6%8B%9F%E6%9C%BA-%E9%80%89%E5%81%9A\"><span class=\"toc-text\">1.3、下载虚拟机(选做)</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-4%E3%80%81%E5%88%B6%E4%BD%9C%E5%90%AF%E5%8A%A8%E7%9B%98\"><span class=\"toc-text\">1.4、制作启动盘</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-5%E3%80%81%E5%8E%8B%E7%BC%A9%E5%88%86%E5%8D%B7%E7%BB%99%E6%96%B0%E7%B3%BB%E7%BB%9F\"><span class=\"toc-text\">1.5、压缩分卷给新系统</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-6%E3%80%81%E5%85%B3%E9%97%AD%E7%94%B5%E8%84%91%E7%9A%84%E5%AE%89%E5%85%A8%E5%90%AF%E5%8A%A8\"><span class=\"toc-text\">1.6、关闭电脑的安全启动</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-7%E3%80%81%E5%85%B3%E6%9C%BA%E6%8F%92%E5%85%A5U%E7%9B%98%E5%90%AF%E5%8A%A8%E8%BF%9B%E5%85%A5bios\"><span class=\"toc-text\">1.7、关机插入U盘启动进入bios</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BD%93%E9%AA%8C-VirtualBox%E6%A8%A1%E6%8B%9F%E5%AE%89%E8%A3%85ArchLinux\"><span class=\"toc-text\">[体验]VirtualBox模拟安装ArchLinux</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%AC%AC%E4%B8%80%E6%AC%A1%E5%90%AF%E5%8A%A8-ArchLinux\"><span class=\"toc-text\">第一次启动 ArchLinux</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2%E3%80%81%E5%BC%80%E5%A7%8B%E5%AE%89%E8%A3%85ArchLinux\"><span class=\"toc-text\">2、开始安装ArchLinux</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-0-%E8%BF%9B%E5%85%A5%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A2\"><span class=\"toc-text\">2.0 进入安装界面</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-1-%E7%A6%81%E7%94%A8reflector%E6%9C%8D%E5%8A%A1\"><span class=\"toc-text\">2.1 禁用reflector服务</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-2-%E9%AA%8C%E8%AF%81%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F\"><span class=\"toc-text\">2.2 验证启动模式</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-3-%E8%BF%9E%E6%8E%A5%E7%BD%91%E7%BB%9C\"><span class=\"toc-text\">2.3 连接网络</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-3-1-%E4%BD%BF%E7%94%A8%E6%97%A0%E7%BA%BF%E8%BF%9E%E6%8E%A5\"><span class=\"toc-text\">2.3.1 使用无线连接</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-3-2-%E4%BD%BF%E7%94%A8%E6%9C%89%E7%BA%BF%E8%BF%9E%E6%8E%A5\"><span class=\"toc-text\">2.3.2 使用有线连接</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-4-%E6%B5%8B%E8%AF%95%E7%BD%91%E7%BB%9C\"><span class=\"toc-text\">2.4 测试网络</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-5-%E9%80%9A%E8%BF%87ssh%E8%BF%9E%E6%8E%A5%E5%88%B0arch%E4%B8%8A-%E9%80%89%E5%81%9A\"><span class=\"toc-text\">2.5 通过ssh连接到arch上[选做]</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-6-%E6%9B%B4%E6%94%B9%E8%BD%AF%E4%BB%B6%E4%BB%93%E5%BA%93%E4%B8%8B%E8%BD%BD%E6%BA%90\"><span class=\"toc-text\">2.6 更改软件仓库下载源</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-7-%E6%9B%B4%E6%96%B0%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4\"><span class=\"toc-text\">2.7 更新系统时间</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-8-star-%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA\"><span class=\"toc-text\">2.8 :star: 磁盘分区</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-8-1-%E4%BD%BF%E7%94%A8cfdisk%E5%B7%A5%E5%85%B7%E8%BF%9B%E8%A1%8C%E5%88%86%E5%8C%BA\"><span class=\"toc-text\">2.8.1 使用cfdisk工具进行分区</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-%E5%88%86%E5%8C%BA%E6%96%B9%E6%A1%88\"><span class=\"toc-text\">:+1: 分区方案</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-9-star-%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%88%86%E5%8C%BA\"><span class=\"toc-text\">2.9 :star: 格式化分区</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-10-star-%E6%8C%82%E8%BD%BD%E5%88%86%E5%8C%BA\"><span class=\"toc-text\">2.10 :star: 挂载分区</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-10-1-%E6%8C%82%E8%BD%BD%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">2.10.1 挂载命令</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-10-2-%E5%8F%96%E6%B6%88%E6%8C%82%E8%BD%BD\"><span class=\"toc-text\">2.10.2 取消挂载</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-11-%E5%AE%89%E8%A3%85%E5%9F%BA%E6%9C%AC%E7%B3%BB%E7%BB%9F\"><span class=\"toc-text\">2.11 安装基本系统</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-12-%E7%94%9F%E6%88%90fstab%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">2.12 生成fstab文件</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3%E3%80%81%E8%BF%9B%E5%85%A5%E6%96%B0%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%9A%84%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">3、进入新系统前的配置</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-0-%E5%88%87%E6%8D%A2%E7%B3%BB%E7%BB%9F\"><span class=\"toc-text\">3.0 切换系统</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-1-%E8%AE%BE%E7%BD%AE%E6%97%B6%E5%8C%BA%E5%B9%B6%E5%90%8C%E6%AD%A5%E7%A1%AC%E4%BB%B6%E6%97%B6%E9%97%B4\"><span class=\"toc-text\">3.1 设置时区并同步硬件时间</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-2-%E8%AE%BE%E7%BD%AE%E7%B3%BB%E7%BB%9F%E8%AF%AD%E8%A8%80\"><span class=\"toc-text\">3.2 设置系统语言</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-3-%E8%AE%BE%E7%BD%AE%E4%B8%BB%E6%9C%BA%E5%90%8D%E5%92%8C%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">3.3 设置主机名和网络配置</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-4-star-%E8%AE%BE%E7%BD%AEroot%E5%AF%86%E7%A0%81\"><span class=\"toc-text\">3.4 :star: 设置root密码</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-5-%E5%AE%89%E8%A3%85%E5%BE%AE%E7%A0%81\"><span class=\"toc-text\">3.5 安装微码</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-6-star-%E9%85%8D%E7%BD%AEgrub%E5%90%AF%E5%8A%A8%E5%BC%95%E5%AF%BC\"><span class=\"toc-text\">3.6 :star: 配置grub启动引导</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-7-star-%E9%85%8D%E7%BD%AE%E5%A4%9A%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E9%A1%B9\"><span class=\"toc-text\">3.7 :star: 配置多系统启动项</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-8-%E9%87%8D%E5%90%AF%E7%B3%BB%E7%BB%9F%E5%AE%8C%E6%88%90%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">3.8 重启系统完成安装</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4%E3%80%81%E8%BF%9B%E5%85%A5%E6%96%B0%E7%B3%BB%E7%BB%9F%E5%90%8E%E7%9A%84%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">4、进入新系统后的配置</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-1-%E5%88%9B%E5%BB%BA%E6%96%B0%E7%94%A8%E6%88%B7%E5%B9%B6%E8%AE%BE%E7%BD%AE%E5%85%B6%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8sudo%E6%9D%83%E9%99%90\"><span class=\"toc-text\">4.1 创建新用户并设置其可以使用sudo权限</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-2-%E5%AE%89%E8%A3%85ssh%E6%9C%8D%E5%8A%A1%EF%BC%8C%E5%B9%B6%E8%AE%BE%E7%BD%AE%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8\"><span class=\"toc-text\">4.2 安装ssh服务，并设置开机启动</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-3-%E8%AE%BE%E7%BD%AE%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8\"><span class=\"toc-text\">4.3 设置网络管理开机启动</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-4-%E8%BF%9E%E6%8E%A5%E7%BD%91%E7%BB%9C\"><span class=\"toc-text\">4.4 连接网络</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-5-pacman%E5%BC%80%E5%90%AF%E5%A4%9A%E4%BB%BB%E5%8A%A1%E4%B8%8B%E8%BD%BD%E3%80%90%E5%8F%AF%E9%80%89%E3%80%91\"><span class=\"toc-text\">4.5 pacman开启多任务下载【可选】</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-6-star-%E5%BC%80%E5%90%AF32%E4%BD%8D%E5%BA%93%E5%92%8C%E6%B7%BB%E5%8A%A0ArchLinuxCN%E4%BB%93%E5%BA%93\"><span class=\"toc-text\">4.6 :star: 开启32位库和添加ArchLinuxCN仓库</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-7-Arch-%E7%BB%8F%E5%85%B8%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">4.7 Arch 经典操作</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#5%E3%80%81%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2\"><span class=\"toc-text\">5、图形界面</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-1-%E5%AE%89%E8%A3%85-Display-Server\"><span class=\"toc-text\">5.1 安装 Display Server</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-2-%E5%AE%89%E8%A3%85-Display-Manager\"><span class=\"toc-text\">5.2 安装 Display Manager</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-3-%E5%AE%89%E8%A3%85-Desktop-Environment\"><span class=\"toc-text\">5.3 安装 Desktop Environment</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-4-%E9%87%8D%E5%90%AF%E4%B9%8B%E5%90%8E%E4%BD%BF%E7%94%A8%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2\"><span class=\"toc-text\">5.4 重启之后使用图形界面</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6%E3%80%81%E6%9C%AC%E5%9C%B0%E4%B8%AD%E6%96%87%E5%8C%96\"><span class=\"toc-text\">6、本地中文化</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6-1-%E4%B8%AD%E6%96%87%E5%AD%97%E4%BD%93\"><span class=\"toc-text\">6.1 中文字体</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6-2-%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95\"><span class=\"toc-text\">6.2 中文输入法</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#7%E3%80%81%E5%AE%89%E8%A3%85-AUR-%E5%8A%A9%E6%89%8B\"><span class=\"toc-text\">7、安装 AUR 助手</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#7-1-%E6%96%B9%E5%BC%8F%E4%B8%80\"><span class=\"toc-text\">7.1 方式一</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#7-2-%E6%96%B9%E5%BC%8F%E4%BA%8C\"><span class=\"toc-text\">7.2 方式二</span></a></li></ol></li></ol>","author":{"name":"ChenZheng","slug":"blog-author","avatar":"/cover/avatar.jpg","link":"/","description":"幼稚园的小朋友の快乐小屋","socials":{"github":"https://github.com/sjwusj","twitter":"https://github.com/sjwusj","stackoverflow":"","wechat":"","qq":"","weibo":"https://github.com/sjwusj","zhihu":"https://github.com/sjwusj","csdn":"https://github.com/sjwusj","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"test","uid":"bc567916c4dc0d8169bd26d18e348d36","slug":"test","date":"2024-11-13T10:01:34.000Z","updated":"2024-11-17T07:59:45.953Z","comments":true,"path":"api/articles/test.json","keywords":null,"cover":"cover/JaNing 金克丝4k.jpg","text":"This is an abstract....","permalink":"/post/test","photos":[],"count_time":{"symbolsCount":544,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"ChenZheng","slug":"blog-author","avatar":"/cover/avatar.jpg","link":"/","description":"幼稚园的小朋友の快乐小屋","socials":{"github":"https://github.com/sjwusj","twitter":"https://github.com/sjwusj","stackoverflow":"","wechat":"","qq":"","weibo":"https://github.com/sjwusj","zhihu":"https://github.com/sjwusj","csdn":"https://github.com/sjwusj","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"Android_End","uid":"c6514010f10f74959b0358300a9b00fc","slug":"Android-End","date":"2024-05-01T05:33:39.000Z","updated":"2024-11-15T12:54:20.593Z","comments":true,"path":"api/articles/Android-End.json","keywords":null,"cover":"cover/cover3.jpg","text":"安卓实训第十二天内容笔记 —— 复习总结...","permalink":"/post/Android-End","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"安卓","slug":"安卓","count":10,"path":"api/categories/安卓.json"}],"tags":[{"name":"Android","slug":"Android","count":10,"path":"api/tags/Android.json"}],"author":{"name":"ChenZheng","slug":"blog-author","avatar":"/cover/avatar.jpg","link":"/","description":"幼稚园的小朋友の快乐小屋","socials":{"github":"https://github.com/sjwusj","twitter":"https://github.com/sjwusj","stackoverflow":"","wechat":"","qq":"","weibo":"https://github.com/sjwusj","zhihu":"https://github.com/sjwusj","csdn":"https://github.com/sjwusj","juejin":"","customs":{}}},"feature":true}}