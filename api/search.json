[{"id":"d551f4002780a83035b4f2b326041598","title":"wsl日常问题","content":"系统：Ubuntu-20.04\n平台：WSL2\nwsl2平台启用ssh服务：sudo &#x2F;etc&#x2F;init.d&#x2F;ssh start\nlinux可以使用ssh客户端连接其他服务器：ssh  用户名@xxx.xxx.xxx.xxx\n日志：&#x2F;var&#x2F;log 文件夹下\n宝塔面板：sudo bt default 显示密码和入口网址\n创建用户没有在&#x2F;home目录下生成对应目录\n\n前提：sudo useradd milan\n操作切换用户：su - milan\n报错：su: warning: cannot change directory to &#x2F;home&#x2F;milan: No such file or directory\n解决方法：\n\nzsh#退出并转换到home目录下\nexit\ncd /home\n\n#创建对应用户名文件夹\nsudo mkdir /home/milan\n\n#设置权限\nr=4 w=2 x=1\nsudo chmod 755 /home/milan\n\n#初始化\nsudo cp -a /etc/skel/.  /home/milan限制wsl2占用过多内存\n限制wsl2占用过多内存 - 知乎 (zhihu.com)\n在powershell中重启wsl2：wsl –shutdown\n\n如果我们直接关闭wsl2的窗口并不会关闭该wsl2的虚拟机，它依旧会在后台运行，需要关闭wsl2的话我们可以打开powershell，在里面使用wsl --shutdown命令就可以关闭全部的wsl2虚拟机了。之后再随意打开一个wsl2的窗口就会再次开启虚拟机。\n\n这种方式释放内存最彻底，效果和物理机内存不足卡死然后直接重启是一样的。\n\n\nFinalShell连接报错\n问题：\n\n连接主机…java.net.ConnectException: Connection refused: connect\n\n解决：\n\n查看ssh设置的端口命令：vi &#x2F;etc&#x2F;ssh&#x2F;sshd_config\n\n重启ssh命令：systemctl restart  sshd\n\n或者：&#x2F;etc&#x2F;init.d&#x2F;ssh  start\n\n\nwsl文件目录\nwsl和wsl2的文件目录有所不同\nwindows10 Linux子系统(wsl)文件目录_子系统显示在目录里_天已青色等烟雨来的博客-CSDN博客\nwsl\n\nubuntu Linux子系统的目录是在这个目录下\n\ntxtC:\\Users\\用户名\\AppData\\Local\\Packages\\CanonicalGroupLimited.UbuntuonWindows_79rhkp1fndgsc\\LocalState\\rootfswsl2\n\nwsl2的linux的文件系统整个是个镜像文件，启动系统后，这个文件系统映射到了 \\\\wsl$\\系统名 下面   \\wsl$\\Ubuntu-20.04\\\n一开始安装在在哪个盘中，镜像文件ext4.vhdx就在哪个盘中\n\n\nWSL备份虚拟机\n[WSL2 Ubuntu-20.04文件太占c盘空间，使用导入导出来实现位置挪移，移动到d盘下面 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/510650353#:~:text=WSL2 Ubuntu-20.04文件太占c盘空间，使用导入导出来实现位置挪移，移动到d盘下面 在windows运行中输入,%localappdata%Packages 找到 CanonicalGroupLimited.Ubuntu20.04LTS开的文件夹，可见这个文件夹很大，这个就是虚拟机的文件存放地。)\n简单到极致！Windows 10 Ubuntu子系统的备份&#x2F;还原教程来了 - 简书 (jianshu.com)\ntxt#停止子系统\nwsl -t Ubuntu-20.04\n\n#备份\nwsl --export Ubuntu-20.04 F:\\Linux\\Ubuntu-20.04.tar(或者.bak顶等等)\n\n#还原\nwsl --import Ubuntu-20.04 c:\\WSL F:\\Linux\\Ubuntu-20.04.tarUbuntu系统下安装rpm安装包\nUbuntu系统下安装rpm安装包_ubuntu rpm_码农研究僧的博客-CSDN博客\nUbuntu的软件包格式为deb而RPM格式的包归属于红帽子Red Hat在这直接使用命令是安装不了的需要通过一个桥梁进行转换\ntxt#将其rpm的格式包转换为deb的格式包\n#具体转换通过alien进行转换\nsudo apt-get install alien txt#通过这个命令将其转换\nsudo alien xxxx.rpmtxt#安装deb包\nsudo dpkg -i xxxx.debUbuntu包管理工具整理\n[Ubuntu包管理工具整理 - weaming - 博客园 (cnblogs.com)](https://www.cnblogs.com/weaming/p/5079032.html#:~:text=Ubuntu包管理工具整理 1 apt 包含了很多工具，apt-get 主要负责软件包的在线安装与升级，低层对 deb 包的处理还是用的 dpkg,可以离线安装软件包，apt-build 可以简化源码编译等等，有兴趣可以学习一下 apt 开头软件包。 … 3 aptitude 是更强大的安装工具，有两种基本的使用方法，一种是文本界面，另一种是命令行，这里只讨论命令行操作。)\n[Ubuntu软件包管理器 - 被罚站的树 - 博客园 (cnblogs.com)](https://www.cnblogs.com/xidongyu/p/7801897.html#:~:text=安装软件：dpkg -i 移除软件：dpkg -r 查看某个软件包是否已经安装：dpkg -l 查看某个软件包中都包含哪些文件：dpkg,-L 查看系统中的某个文件是由哪个软件包提供的： dpkg -S %2Fpath%2Fto%2Ffile 查看哪些软件包未完成安装：dpkg -C)\n Ubuntu与Cenots的关系：Ubuntu之软件包管理 (最全最精) - 梨花海棠 - 博客园 (cnblogs.com)\n\n常用的包管理包含三类工具：dpkg、apt\n\n软件包后缀centos：  .rpmUbuntu ：.deb\n\n\nUbuntu搭建JavaEE开发环境\nubuntu 搭建 JavaEE 开发环境_lrkhh的博客-CSDN博客\nJDK\n\nLinux 下 JDK 到底应该 安装 在哪儿？. 最标准的 jdk安装 路径是 &#x2F;usr&#x2F;local&#x2F;java&#x2F; jdk 1.6.0_38 &#x2F;usr&#x2F;local&#x2F;java&#x2F; jdk 1.8.xxx 注意：几个不同的 jdk 可以共存，都放在&#x2F;usr&#x2F;local&#x2F;java&#x2F;下 然后在&#x2F;etc&#x2F;profile里面export JAVA_HOME指定默认的 jdk\n\n&#x2F;etc&#x2F;profile和~&#x2F; .profile和&#x2F;etc&#x2F;profile.d的区别：\nLinux下JDK到底应该安装在哪儿？_hellocsz的博客-CSDN博客\n\n\nTomcat\n\nLinux启动tomcat报错\n\ntxtNeither the JAVA_HOME nor the JRE_HOME environment variable is defined\nAt least one of these environment variable is needed to run this program\n解决方法一：Linux启动tomcat报错：Neither the JAVA_HOME nor the JRE_HOME environment variable is defined_渐暖°的博客-CSDN博客\n\nsudo vim setclasspath.sh \nsetclasspath.sh文件在&#x2F;opt&#x2F;tomcat&#x2F;apache-tomcat-8.5.59&#x2F;bin下(根据自己的Tomcat存放位置来)\n\n\n\n\n\n解决方法二：Ubuntu18.04 安装Tomcat 8.5 - 捷后愚生 - 博客园 (cnblogs.com)\n\nsudo vim startup.sh\n\n\n\nUbuntu下设置Tomcat开机自启动\n\n\nMySql\n\nUbuntu 20.04 安装和配置MySql5.7\n\nUbuntu20.04中安装MySQL 5.7.x - 知乎 (zhihu.com)\n\nUbuntu20.04安装MySQL5.7-实测3种方法（保姆级教程）_liuhuango123的博客-CSDN博客\n\n[Ubuntu 20.04 安装和配置MySql5.7 - Wly球球 - 博客园 (cnblogs.com)](https://www.cnblogs.com/lian95/archive/2020/12/17/14140838.html#:~:text=Ubuntu 20.04 安装和配置MySql5.7 1 1. Ubuntu换源 ubuntu 20.04系统自带源直接安装是MySQL,5. Navicat 远程连接数据库 … 6 6. 卸载mysql )\n\n忘记mysql5.7的ROOT用户密码：https://www.bilibili.com/video/BV1Sv411r7vd?t=83.5&amp;p=143\n\n\nUbuntu重启或新窗口遇到环境未配置问题\n问题\n\n默认为bash，在&#x2F;etc&#x2F;profile中配置后，在bash中生效，但若使用zsh，重启之后配置在&#x2F;etc&#x2F;profile的环境会失效\n\n解决：\n\nvim  .zshrc\n\n\nbash 切换到 zsh 环境变量丢失问题\n解决办法 ：bash 切换到 zsh 环境变量丢失问题 - 简书 (jianshu.com)\n​\t1 、在bash下面执行:​\t\t echo $PATH​\t\t 查看系统路径，复制路径。​\t 2、然后切换到zsh,​\t\t sudo vim ~/.zshrc​\t\t 在 #*If you come from bash you might have to change your $PATH.*下面添加刚才的路径:​\t\t export PATH=&quot; you path copy just now &quot;​\t 3、退出文件，在zsh下执行:​\t\t source ~/.zshrc​\t\t 初始化配置文件。         搞定，以上。\nubuntu 环境变量 失效的解决办法_ubantu 环境变量怎么自己没了_Lincoln_XDU的博客-CSDN博客\nUbuntu包含两种环境变量：系统，用户，使用bash情况下\n用户环境变量：\n~&#x2F;.profile\n~&#x2F;.bash_profile 或者 ~.&#x2F;bash_login\n~&#x2F;.bashrc\n系统环境变量：\n&#x2F;etc&#x2F;environment\n&#x2F;etc&#x2F;profile\n&#x2F;etc&#x2F;bash.bashrc\n如何解决win10 子系统用wsl安装ubuntu22.04不能用systemctl?\n(30 封私信 &#x2F; 80 条消息) 如何解决win10 子系统用wsl安装ubuntu22.04不能用systemctl? - 知乎 (zhihu.com)\n基于windows WSL安装Docker Desktop\n修改默认安装到C盘及默认下载镜像到C盘\n基于windows WSL安装Docker Desktop，修改默认安装到C盘及默认下载镜像到C盘-腾讯云开发者社区-腾讯云 (tencent.com)\n修改默认安装到C盘\n\n删除如下目录C:\\Program Files[Docker](https://cloud.tencent.com/product/tke?from_column=20065&amp;from=20065)\n在D盘新建目录：D:\\Program Files\\Docker\nwin+r，运行cmd\n在cmd中执行如下命令：mklink /j &quot;C:\\Program Files\\Docker&quot; &quot;D:\\Program Files\\Docker&quot;\n执行下载的安装程序，即可将Docker Desktop安装到D盘了\n\n修改镜像默认下载到C盘\n\n新建目录 D:\\ProgramData\\Docker\n将 C:\\Users\\你的用户名\\AppData\\Local\\Docker下的所有文件copy到 D:\\ProgramData\\Docker\n删除目录 C:\\Users\\你的用户名\\AppData\\Local\\Docker\n在C:\\Users\\你的用户名\\AppData\\Local下执行cmd /c mklink /J Docker D:\\ProgramData\\Docker\n上述命令是在powershell下执行，若是在cmd下执行则如下mklink /J Docker D:\\ProgramData\\Docker\n\n\ndocker | 基于 WSL2 在 Windows 下使用 docker\ndocker | 基于 WSL2 在 Windows 下使用 docker - 知乎 (zhihu.com)\nDocker-Docker Desktop 安装教程，以及推荐Docker作为学习工具的理由_docker desktop安装_xiaoliizi的博客-CSDN博客\n配置镜像\n\n\n\n","slug":"wsl日常问题","date":"2023-11-06T14:18:00.000Z","categories_index":"Linux","tags_index":"Linux,Wsl","author_index":"Chen Zheng"},{"id":"30cc9f8ea5d196255e535ad3f0395ee4","title":"wsl安装子系统及终端美化","content":"安装官方文档\n\n安装 WSL |Microsoft学习\n\n微软商店下载Windows Terminal 应用程序，如果喜欢原装可以忽略\n\n如何在 Windows 10 上安装 WSL 2 - 知乎 (zhihu.com)\n\n第 1 步，启用 WSL不管您想要使用哪个版本的 WSL，都首先需要启用它。为此，请以管理员身份打开 PowerShell 工具并运行以下命令。小心不要在命令中输入错误或遗漏任何字符：\npowershelldism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart第 2 步，启用“虚拟机平台”WSL 2 需要启用 Windows 10 的 “虚拟机平台” 特性。它独立于 Hyper-V，并提供了一些在 Linux 的 Windows 子系统新版本中可用的更有趣的平台集成。\n要在 Windows 10（2004）上启用虚拟机平台，请以管理员身份打开 PowerShell 并运行：\npowershelldism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart要在 Windows 10（1903，1909）上启用虚拟机平台，请以管理员身份打开 PowerShell 并运行：\npowershellEnable-WindowsOptionalFeature -Online -FeatureName VirtualMachinePlatform -NoRestart为了确保所有相关部件都整齐到位，您应该在此时重启系统，否则可能会发现事情没按预期进行。\n第 3 步，设置 WSL 2 为默认值以管理员身份打开 PowerShell，然后运行以下命令以将 WSL 2 设置为 WSL 的默认版本：\npowershellwsl --set-default-version 2如果需要，您可以（随时）将发行版配置为以 WSL 1 模式运行\n第 4 步，安装一个 Linux 发行版默认安装为c盘，如果c盘空间不够建议安装在其他盘\n\n参考Windows10&#x2F;11 三步安装wsl2 Ubuntu20.04（任意盘） - 知乎 (zhihu.com)\n\n首先先在你喜欢的盘创建一个文件夹，比如D:\\Linux ，因为这样即便是重装系统我也不用重新装软件。\n然后进到这个文件夹 下载ubuntu20.04\ntxtInvoke-WebRequest -Uri https://wsldownload.azureedge.net/Ubuntu_2004.2020.424.0_x64.appx -OutFile Ubuntu20.04.appx -UseBasicParsing然后执行下面四条命令。如下图\ntxtRename-Item .\\Ubuntu20.04.appx Ubuntu.zip\nExpand-Archive .\\Ubuntu.zip -Verbose\ncd .\\Ubuntu\\\n.\\ubuntu2004.exe\n安装其他发行版方法自定义WSL的安装位置，别再装到C盘啦 - 知乎 (zhihu.com)\n\n美化参考WSL2 搭建 Windows 更好用的前端开发环境 | CodecWang\n用 WSL2 搭建 Windows 上更爽的前端开发环境_哔哩哔哩_bilibili\ntxt# 更新 package\nsudo apt update &amp;&amp; sudo apt upgrade\n\n# 安装 zsh\nsudo apt install zsh -y\n\n# 安装 oh-my-zsh\nwget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | zsh || true\n\n# 安装命令补全和高亮插件\ngit clone https://github.com/zsh-users/zsh-syntax-highlighting.git ~/.oh-my-zsh/plugins/zsh-syntax-highlighting\ngit clone https://github.com/zsh-users/zsh-autosuggestions ~/.oh-my-zsh/plugins/zsh-autosuggestions\nsed -i &#39;s/plugins=(git)/plugins=(git zsh-autosuggestions zsh-syntax-highlighting)/g&#39; ~/.zshrc\n\n# 将 zsh 设置为默认的shell\nchsh -s /bin/zsh安装on-my-zsh参考 https://blog.csdn.net/qwe641259875/article/details/107201760\nUbuntu 下 Oh My Zsh 的最佳实践「安装及配置」 - 知乎 (zhihu.com)\n简单配置\nwindows 10 安装子系统(WSL2) - 知乎 (zhihu.com)\n针对ubuntu系统进行简单的配置\n查看ubuntu版本,我是用的最新的lsb_release -a\n\n\n\n配置root密码#ubuntu默认情况下只能普通用户登录,需要给root设置密码才能使用,命令如下sudo passwd root\n配置国内源#由于软件源是国外的,安装软件时比较慢,需要改成国内源,如果阿里,中科大,清华,163源都 是可以的\n\n\n建议先备份 下原来的文件#备份文件cp &#x2F;etc&#x2F;apt&#x2F;sources.list &#x2F;etc&#x2F;apt&#x2F;sources.list.bak\n替换成国内的源vim &#x2F;etc&#x2F;apt&#x2F;sources.list#这里有的系统里没有vim这个工具,可以使用apt-get install vim#也可以直接使用vi进行操作\n\n\ntxt国内源如下\n#清华镜像\n https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse deb\n https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse deb \nhttps://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse deb \nhttps://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse \n#中科大 \n https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse deb\n https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse deb \nhttps://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse deb\n https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse \n#163软件源 \n http://mirrors.163.com/ubuntu/ wily main restricted universe multiverse deb\n http://mirrors.163.com/ubuntu/ wily-security main restricted universe multiverse deb\n http://mirrors.163.com/ubuntu/ wily-updates main restricted universe multiverse deb \nhttp://mirrors.163.com/ubuntu/ wily-proposed main restricted universe multiverse deb\n http://mirrors.163.com/ubuntu/ wily-backports main restricted universe multiverse deb-src \nhttp://mirrors.163.com/ubuntu/ wily main restricted universe multiverse deb-src \nhttp://mirrors.163.com/ubuntu/ wily-security main restricted universe multiverse deb-src\n http://mirrors.163.com/ubuntu/ wily-updates main restricted universe multiverse deb-src\n http://mirrors.163.com/ubuntu/ wily-proposed main restricted universe multiverse deb-src\n http://mirrors.163.com/ubuntu/ wily-backports main restricted universe multiverse\n\n更新系统软件源apt-get update apt-get upgrade\n\n在更新的时候可能会出现失败\n\n\n问题一:Temporary failure in name resolution#无法解析,需要在vim &#x2F;etc&#x2F;resolv.conf#添加内容nameserver 114.114.114.114nameserver 8.8.8.8#再执行apt-get update​\n\n查看ip命令不能用#安装ifconfigsudo apt-get install net-tools\n总结:到这里,在win10子系统里安装ubuntu系统,基本就可以玩耍了,但是这个ubuntu是个简单版,里面有些软件可能没有,需要自己安装!\n\n\n\n\n\n\n解决GitHub下载速度太慢问题的方法汇总（持续更新，建议收藏）_一名机电研究生的博客-CSDN博客\n修改了hosts文件之后，用sudo &#x2F;etc&#x2F;init.d&#x2F;networking restart 但是这个是暴力重启网络来刷新了dns。可以用sudo &#x2F;etc&#x2F;init.d&#x2F;nscd restart如果报错没有这个文件，就通过sudo apt-get install nscd 安装。\n常用命令\n\n显示信息：wslfetch\n\nsudo vim &#x2F;etc&#x2F;hosts 修改host文件\n\ncurl cip.cc 查看ip详细信息\n\nhostname -I  使用hostname命令获取主机名和IP地址\n\nifconfig和ip addr show\n\n\nwsl是win的代理：为 WSL2 一键设置代理 - 知乎 (zhihu.com)\ntxt#!/bin/zsh\nhost_ip=$(cat /etc/resolv.conf |grep &quot;nameserver&quot; |cut -f 2 -d &quot; &quot;)\nexport ALL_PROXY=&quot;http://$host_ip:7890&quot;win传送文件到wsl:将Windows系统中文件传入WSL子系统中_wsl文件传输_Bio大恐龙的博客-CSDN博客\ncd &#x2F;mnt转到 &#x2F;mnt 目录下，你可以看到自己的盘信息。\n找到你想转到wsl子系统下的文件。例如我想将下载的blast文件转到子系统下。我需要的文件在以下路劲下&#x2F;mnt&#x2F;c&#x2F;Users&#x2F;86184&#x2F;Downloads\n选择复制或者移动你的文件到指定目录下，可以使用cp也可以使用mv，这里使用的是mv。\ntxtmv /mnt/c/Users/86184/Downloads/ncbi-blast-2.13.0+-x64-arm-linux.tar.gz /home/bio_kang/software/下载powerlevel10k字体\n官网：nerd-fonts\nwsl使用zsh与终端美化 - 知乎 (zhihu.com)】\nPowerlevel10k 作者推荐使用 Meslo Nerd Font 字体，Download these four ttf files:\n\nMesloLGS NF Regular.ttf\nMesloLGS NF Bold.ttf\nMesloLGS NF Italic.ttf\nMesloLGS NF Bold Italic.ttf\n\ntxt#全部下载\ngit clone https://github.com/ryanoasis/nerd-fonts.git --depth 1\ncd nerd-fonts\n./install.shubuntu 字体安装 —— 以nerd font为例_ubuntu nerdfont_HZ_Samuel的博客-CSDN博客\nubuntu 字体安装 —— 以nerd font为例 - 骏腾 - 博客园 (cnblogs.com)\nhttps://www.cnblogs.com/hongdada/p/14031915.html\n安装exa(目录美化)： Ubuntu安装exa_上衫_的博客-CSDN博客\nlsd和exa：https://www.51cto.com/article/716286.html\nlsd官网：lsd-rs&#x2F;lsd: The next gen ls command (github.com)\nlsd安装使用：1.下载lsd的lsd-musl_1.0.0_amd64.deb文件，按自己电脑下载\ntxt                        2. 终端执行sudo dpkg -i lsd-musl_1.0.0_amd64.deb\n                        2. 配置：[带图标显示的ls---lsd_ITKEY_的博客-CSDN博客](https://blog.csdn.net/lxyoucan/article/details/120152535)vim的使用：精通 VIM ，此文就够了 - 知乎 (zhihu.com)\n","slug":"wsl安装子系统及终端美化","date":"2023-11-06T13:35:00.000Z","categories_index":"","tags_index":"Linux","author_index":"Chen Zheng"},{"id":"b9663f58f18133b35bfe243f3e916a80","title":"Hello World","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.\nQuick StartCreate a new postbash$ hexo new &quot;My New Post&quot;More info: Writing\nRun serverbash$ hexo serverMore info: Server\nGenerate static filesbash$ hexo generateMore info: Generating\nDeploy to remote sitesbash$ hexo deployMore info: Deployment\n","slug":"hello-world","date":"2023-11-05T09:36:01.296Z","categories_index":"","tags_index":"","author_index":"Chen Zheng"},{"id":"a6b82868af4785482b869dc5d958966b","title":"Article Title","content":"\n","slug":"test","date":"2020-08-15T10:49:36.000Z","categories_index":"Cate","tags_index":"Tag","author_index":"ChenZheng"}]